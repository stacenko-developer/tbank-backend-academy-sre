# Домашнее задание №9 "Стратегии развертывания"

Цель задания - на практике посмотреть, как работают разные стратегии развёртывания приложений.

Вам необходимо:

* Развернуть и опубликовать через Ingress приложение-пример на базе образа containersol/k8s-deployment-strategies
* Добавить в деплоймент переменную VERSION со значением v1.0.0
* Добавить в деплоймент лейбл app=my-app (понадобится для корректного отображения данных на графике версий)
* Настроить сбор метрик с порта 9101
* Используя разные стратегии балансировки, продемонстрировать "обновление" приложения (обновлением считается изменение значения переменной VERSION с v1.0.0 на `v2.0.0`)

Во время обновлений в приложение должен поступать трафик. Пример команды, для генерации запросов (можно использовать любые утилиты для генерации трафика):

> $ while sleep 0.1; do curl <адрес вашей публикации>; done

В домашнем задании необходимо:

1. Предоставить видеозапись с разными стратегиями деплоя (Recreate, Rolling Update, Blue/Green, Canary) с выводом обработки трафика в grafana, как в примерах на семинаре. Для демонстрации можно использовать график deployment-strategies
2. Приложить исходники Deployment манифеста (для v1 и v2)

**Критерии оценки:**
* 6 баллов - видеозапись с Recreate и Rolling Update
* 4 балла - видеозапись с Blue/Green or Canary Rollout or Canary Release, "из коробки" Kubernetes не поддерживает их в автоматическом режиме. Поэтому помимо видео, нужно описать шаги действий, для реализации такого развертывания приложения стандартными средствами